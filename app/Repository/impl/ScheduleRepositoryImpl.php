<?phpnamespace Seior\PHP\Uas\Repository\impl;use PDO;use Seior\PHP\Uas\Model\Schedule;use Seior\PHP\Uas\Repository\ScheduleRepository;class ScheduleRepositoryImpl implements ScheduleRepository{    public function __construct(private PDO $connection)    {    }    public function save(Schedule $schedule)    {        $sql = "insert into schedule (id, user_id, date, title, activity) values (?, ?, ?, ?, ?)";        $statement = $this->connection->prepare($sql);        $statement->execute([            $schedule->getId(),            $schedule->getUserId(),            $schedule->getDate(),            $schedule->getTitle(),            $schedule->getActivity(),        ]);    }    public function delete(Schedule $schedule)    {        $sql = "delete from schedule where id = ?";        $statement = $this->connection->prepare($sql);        $statement->execute([$schedule->getId()]);    }    public function findAll(string $id): array    {        $schedules = [];        $sql = "select * from schedule where user_id = ? order by date desc";        $statement = $this->connection->prepare($sql);        $statement->execute([$id]);        try {            foreach ($statement as $row) {                $schedule = new Schedule();                $schedule->setId($row['id']);                $schedule->setTitle($row['title']);                $schedule->setUserId($row['user_id']);                $schedule->setDate($row['date']);                $schedule->setActivity($row['activity']);                array_push($schedules, $schedule);            }            return $schedules;        } finally {            $statement->closeCursor();        }    }    public function findById(Schedule $schedule): ?Schedule    {        $sql = "select * from schedule where id = ?";        $statement = $this->connection->prepare($sql);        $statement->execute([$schedule->getId()]);        if ($row = $statement->fetch()) {            $schedule->setId($row['id']);            $schedule->setUserId($row['user_id']);            $schedule->setTitle($row['title']);            $schedule->setDate($row['date']);            $schedule->setActivity($row['activity']);            return $schedule;        }        return null;    }}